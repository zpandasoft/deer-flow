多智能体应用场景

以下是一个多智能体协作解决问题的完整流程，展示了各智能体如何协同工作处理"光伏组件出口法国的合规要求"问题：

```mermaid
sequenceDiagram
    participant User as 用户
    participant CA as 上下文分析智能体
    participant OD as 目标分解智能体
    participant TA as 任务分析智能体
    participant SE as 充分性评估智能体
    participant RA as 研究智能体
    participant PA as 处理智能体
    participant CE as 完成度评估智能体
    participant SY as 合成智能体

    User->>CA: 提交问题："光伏组件出口法国需要完成哪些合规目标"
    Note over CA: 分析问题领域、场景和知识需求
    CA->>OD: 传递上下文分析结果
    Note over OD: 分解为多个一级研究目标
    OD->>TA: 传递目标列表
    Note over TA: 细化目标为具体任务和步骤
    TA->>SE: 传递任务和步骤设计
    Note over SE: 评估设计是否充分全面
    SE-->>TA: 返回不足点和改进建议
    Note over TA: 根据建议优化任务设计
    TA->>SE: 提交修改后的设计
    Note over SE: 确认设计已充分

    par 并行执行研究步骤
        SE->>RA: 分配研究任务1(PPE2要求)
        Note over RA: 收集PPE2相关标准和要求
        RA->>CE: 提交研究结果
        Note over CE: 评估研究质量
    and
        SE->>RA: 分配研究任务2(CBAM要求)
        Note over RA: 收集CBAM相关标准和要求
        RA->>CE: 提交研究结果
        Note over CE: 评估研究质量
    and
        SE->>RA: 分配研究任务3(CE认证要求)
        Note over RA: 收集CE认证相关标准和要求
        RA->>CE: 提交研究结果
        Note over CE: 评估研究质量
    end

    CE->>PA: 传递已验证的研究结果
    Note over PA: 处理和分析收集的信息
    PA->>CE: 提交处理结果
    Note over CE: 评估处理质量

    CE->>SY: 传递所有已验证的结果
    Note over SY: 整合所有结果生成完整解决方案
    SY->>User: 返回最终合规解决方案

    opt 用户反馈
        User-->>SY: 提供反馈或追问
        SY->>CA: 重新启动流程处理追问
    end
```

在这个流程中：
1. 上下文分析智能体首先分析问题领域（光伏行业）和场景（国际贸易合规）
2. 目标分解智能体将问题分解为多个合规目标（如PPE2合规、CBAM合规、CE认证等）
3. 任务分析智能体为每个目标设计具体任务和步骤
4. 充分性评估智能体验证设计是否全面，提出改进建议
5. 研究智能体并行收集各项合规要求的最新信息
6. 处理智能体分析收集的信息，提取关键要点
7. 完成度评估智能体确保每个步骤的质量
8. 合成智能体整合所有结果，生成完整的合规解决方案

这种多智能体协作模式使系统能够全面、高效地处理复杂问题，同时确保结果的质量和可靠性。